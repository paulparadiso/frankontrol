{"version":3,"sources":["Components/Users.js","Components/OnOff.js","Components/SetTime.js","Components/Statuses.js","Components/Control.js","App.js","reportWebVitals.js","index.js"],"names":["Users","useStyles","makeStyles","root","minWidth","margin","textAlign","buttonContainer","width","left","float","buttons","right","OnOff","props","classes","permissions","user","Card","variant","className","CardContent","includes","Fragment","Button","color","sendState","header","marginBottom","bullet","display","transform","icon","title","fontSize","console","height","backgroundColor","overflow","consoleLine","paddingTop","paddingBottom","pos","SetTime","onTime","currentTimes","offTime","FormGroup","FormControlLabel","control","Switch","size","checked","schedulerState","onChange","switch","label","onSubmit","e","preventDefault","topic","params","FormControl","InputLabel","htmlFor","Input","id","target","value","FormHelperText","type","deviceIcon","marginLeft","Statuses","statusList","deviceStatuses","map","s","i","status","ListItem","name","style","List","Dashboard","schedulerSwitch","wsClient","WebSocket","cueSubscriberStatusUpdater","log","cuePublisherStatusUpdater","deviceStatusesUpdater","device","updater","addEventListener","event","message","m","JSON","parse","data","send","stringify","cuePublisherRestart","flexGrow","drawer","content","App","useState","cueSubscriberStatus","cueSubscriberStatusUpdate","cuePublisherStatus","cuePublisherStatusUpdate","deviceStatusesUpdate","schedulerStateUpdate","userUpdate","currentTimeUpdates","clip","description","currentCue","currentCueUpdate","nextCue","nextCueUpdate","nextDeviceStatuses","found","forEach","ds","push","cue","getEverything","initial","axios","get","then","res","times","deviceStatus","search","window","location","URLSearchParams","CssBaseline","Control","cueSubscriberClear","cuePublisherClear","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7c73e07f.chunk.js","sourcesContent":["const Users = {\r\n    'admin': ['admin', 'all', 'tower', 'rotunda'],\r\n    'tower': ['tower'],\r\n    'rotunda': ['rotunda'],\r\n    'security': ['all']\r\n}\r\n\r\nexport default Users;\r\n","import React from 'react';\r\nimport { Button } from '@material-ui/core';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport './OnOff.css'\r\nimport { makeStyles } from '@material-ui/core';\r\nimport Users from './Users';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        minWidth: 325,\r\n        margin: 10,\r\n        textAlign: 'center',\r\n    },\r\n    buttonContainer: {\r\n        width: '57vw',\r\n        textAlign: 'right'\r\n    },\r\n    left: {\r\n        width: '45%',\r\n        float: 'left',\r\n    },\r\n    buttons: {\r\n        margin: 10,\r\n    },\r\n    right: {\r\n        width: '45%',\r\n        float: 'right'\r\n    }\r\n})\r\n\r\nconst OnOff = props => {\r\n\r\n    const classes = useStyles();\r\n    const permissions = Users[props.user] || [];\r\n\r\n    return (\r\n        <Card\r\n            variant=\"outlined\"\r\n            className={classes.root}\r\n        >\r\n            <CardContent>\r\n                <div className={classes.buttonContainer}>\r\n                    {permissions.includes('tower') ?\r\n                        <React.Fragment>\r\n                            <div>\r\n                                Tower\r\n                                <Button\r\n                                    className=\"button\"\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    className={classes.buttons}\r\n                                    onClick={() => props.sendState({\r\n                                        \"topic\": \"towerState\",\r\n                                        \"params\": {\r\n                                            \"state\": \"on\"\r\n                                        }\r\n                                    })}\r\n                                >\r\n                                    ON\r\n                                </Button>\r\n                                <Button\r\n                                    className=\"button\"\r\n                                    color=\"secondary\"\r\n                                    variant=\"contained\"\r\n                                    className={classes.buttons}\r\n                                    onClick={() => props.sendState({\r\n                                        \"topic\": \"towerState\",\r\n                                        \"params\": {\r\n                                            \"state\": \"off\"\r\n                                        }\r\n                                    })}\r\n                                >\r\n                                    OFF\r\n                                </Button>\r\n                            </div>\r\n                        </React.Fragment>\r\n                        : <div></div>}\r\n                    {permissions.includes('rotunda') ?\r\n                        <React.Fragment>\r\n                            <div>\r\n                                Rotunda\r\n                                <Button\r\n                                    className=\"button\"\r\n                                    variant=\"contained\"\r\n                                    color=\"primary\"\r\n                                    className={classes.buttons}\r\n                                    onClick={() => props.sendState({\r\n                                        \"topic\": \"rotundaState\",\r\n                                        \"params\": {\r\n                                            \"state\": \"on\"\r\n                                        }\r\n                                    })}\r\n                                >\r\n                                    ON\r\n                                </Button>\r\n                                <Button\r\n                                    className=\"button\"\r\n                                    color=\"secondary\"\r\n                                    variant=\"contained\"\r\n                                    className={classes.buttons}\r\n                                    onClick={() => props.sendState({\r\n                                        \"topic\": \"rotundaState\",\r\n                                        \"params\": {\r\n                                            \"state\": \"off\"\r\n                                        }\r\n                                    })}\r\n                                >\r\n                                    OFF\r\n                                </Button>\r\n                            </div>\r\n                        </React.Fragment>\r\n                        :\r\n                        <div></div>}\r\n                    {permissions.includes('tower') ?\r\n                    <React.Fragment>\r\n                    <div>\r\n                        Tower Audio\r\n                        <Button\r\n                            className=\"button\"\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            className={classes.buttons}\r\n                            onClick={() => props.sendState({\r\n                                \"topic\": \"towerAudioState\",\r\n                                \"params\": {\r\n                                    \"state\": \"off\"\r\n                                }\r\n                            })}\r\n                        >\r\n                            ON\r\n                        </Button>\r\n                        <Button\r\n                            className=\"button\"\r\n                            color=\"secondary\"\r\n                            variant=\"contained\"\r\n                            className={classes.buttons}\r\n                            onClick={() => props.sendState({\r\n                                \"topic\": \"towerAudioState\",\r\n                                \"params\": {\r\n                                    \"state\": \"on\"\r\n                                }\r\n                            })}\r\n                        >\r\n                            OFF\r\n                        </Button>\r\n                    </div>\r\n                    </React.Fragment>\r\n                    : <div></div> }\r\n                    {permissions.includes('rotunda') ?\r\n                    <React.Fragment>\r\n                    <div>\r\n                        Rotunda Audio\r\n                        <Button\r\n                            className=\"button\"\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            className={classes.buttons}\r\n                            onClick={() => props.sendState({\r\n                                \"topic\": \"rotundaAudioState\",\r\n                                \"params\": {\r\n                                    \"state\": \"off\"\r\n                                }\r\n                            })}\r\n                        >\r\n                            ON\r\n                        </Button>\r\n                        <Button\r\n                            className=\"button\"\r\n                            color=\"secondary\"\r\n                            variant=\"contained\"\r\n                            className={classes.buttons}\r\n                            onClick={() => props.sendState({\r\n                                \"topic\": \"rotundaAudioState\",\r\n                                \"params\": {\r\n                                    \"state\": \"on\"\r\n                                }\r\n                            })}\r\n                        >\r\n                            OFF\r\n                        </Button>\r\n                    </div>\r\n                    </React.Fragment>\r\n                    : <div></div> }\r\n                    {permissions.includes('all') ?\r\n                    <React.Fragment>\r\n                    <div>\r\n                        Audio\r\n                        <Button\r\n                            className=\"button\"\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            className={classes.buttons}\r\n                            onClick={() => props.sendState({\r\n                                \"topic\": \"audioState\",\r\n                                \"params\": {\r\n                                    \"state\": \"off\"\r\n                                }\r\n                            })}\r\n                        >\r\n                            ON\r\n                        </Button>\r\n                        <Button\r\n                            className=\"button\"\r\n                            color=\"secondary\"\r\n                            variant=\"contained\"\r\n                            className={classes.buttons}\r\n                            onClick={() => props.sendState({\r\n                                \"topic\": \"audioState\",\r\n                                \"params\": {\r\n                                    \"state\": \"on\"\r\n                                }\r\n                            })}\r\n                        >\r\n                            OFF\r\n                        </Button>\r\n                    </div>\r\n                    </React.Fragment>\r\n                    : <div></div> }\r\n                </div>\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default OnOff;","import React from 'react';\r\nimport {\r\n    FormControl,\r\n    FormGroup,\r\n    FormControlLabel,\r\n    Switch,\r\n    InputLabel,\r\n    Input,\r\n    FormHelperText,\r\n    Button\r\n} from '@material-ui/core';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        minWidth: 325,\r\n        margin: 10,\r\n        textAlign: 'center',\r\n    },\r\n    header: {\r\n        width: '100%',\r\n        marginBottom: 20,\r\n    },\r\n    bullet: {\r\n        display: 'inline-block',\r\n        margin: '0 2px',\r\n        transform: 'scale(0.0)',\r\n    },\r\n    buttons: {\r\n        margin: 10,\r\n    },\r\n    icon: {\r\n        margin: 0\r\n    },\r\n    title: {\r\n        fontSize: 14,\r\n        width: '50%',\r\n    },\r\n    console: {\r\n        height: 400,\r\n        backgroundColor: 'black',\r\n        color: 'green',\r\n        overflow: 'auto',\r\n    },\r\n    consoleLine: {\r\n        margin: 0,\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n    },\r\n    pos: {\r\n        marginBottom: 23,\r\n    },\r\n});\r\n\r\nconst SetTime = props => {\r\n\r\n    const classes = useStyles();\r\n\r\n    let onTime = props.currentTimes.onTime;\r\n    let offTime = props.currentTimes.offTime;\r\n\r\n    return (\r\n        <Card\r\n            variant=\"outlined\"\r\n            className={classes.root}\r\n        >\r\n            <CardContent>\r\n                <FormGroup>\r\n                    <FormControlLabel\r\n                        control={<Switch size=\"small\" checked={!props.schedulerState} onChange={props.switch} />}\r\n                        label={props.schedulerState ? 'Turn Scheduler Off' : 'Turn Scheduler On'}\r\n                    >\r\n                    </FormControlLabel>\r\n                </FormGroup>\r\n                <form onSubmit={e => {\r\n                    e.preventDefault();\r\n                    props.sendState({\r\n                        topic: \"setOnOffTimes\",\r\n                        params: {\r\n                            onTime: onTime,\r\n                            offTime: offTime\r\n                        }\r\n                    });\r\n                }}>\r\n                    <FormControl>\r\n                        <InputLabel htmlFor=\"on\">{props.currentTimes.onTime}</InputLabel>\r\n                        <Input id=\"on\" aria-describedby=\"on-text\" onChange={e => onTime = e.target.value} />\r\n                        <FormHelperText id=\"on-text\">Change show on time.</FormHelperText>\r\n                    </FormControl>\r\n                    <br />\r\n                    <FormControl>\r\n                        <InputLabel htmlFor=\"off\">{props.currentTimes.offTime}</InputLabel>\r\n                        <Input id=\"off\" aria-describedby=\"off-text\" onChange={e => offTime = e.target.value} />\r\n                        <FormHelperText id=\"off-text\">Change show off time.</FormHelperText>\r\n                    </FormControl>\r\n                    <br />\r\n                    <Button className={classes.buttons} variant=\"contained\" type=\"submit\">Submit</Button>\r\n                </form>\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default SetTime;","import React from 'react';\r\nimport {\r\n    List,\r\n    ListItem,\r\n} from '@material-ui/core';\r\nimport Brightness1RoundedIcon from '@material-ui/icons/Brightness1Rounded'\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport { makeStyles, StylesProvider } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        minWidth: 325,\r\n        margin: 10,\r\n        textAlign: 'center',\r\n    },\r\n    header: {\r\n        width: '100%',\r\n        marginBottom: 20,\r\n    },\r\n    bullet: {\r\n        display: 'inline-block',\r\n        margin: '0 2px',\r\n        transform: 'scale(0.0)',\r\n    },\r\n    buttons: {\r\n        margin: 10,\r\n    },\r\n    icon: {\r\n        margin: 0\r\n    },\r\n    title: {\r\n        fontSize: 14,\r\n        width: '50%',\r\n    },\r\n    console: {\r\n        height: 400,\r\n        backgroundColor: 'black',\r\n        color: 'green',\r\n        overflow: 'auto',\r\n    },\r\n    deviceIcon: {\r\n        marginLeft: 10,\r\n    },\r\n    consoleLine: {\r\n        margin: 0,\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n    },\r\n    pos: {\r\n        marginBottom: 23,\r\n    },\r\n});\r\n\r\nconst Statuses = props => {\r\n\r\n    const classes = useStyles();\r\n\r\n    let statusList = props.deviceStatuses.map((s, i) => {\r\n        const color = s.status ? 'green' : 'red';\r\n        return (\r\n            <ListItem >\r\n                {s.name}\r\n                <Brightness1RoundedIcon\r\n                    className={classes.deviceIcon}\r\n                    style={{color: color}}\r\n                />\r\n            </ListItem>\r\n        );\r\n    });\r\n\r\n    return (\r\n        <Card\r\n            variant=\"outlined\"\r\n            className={classes.root}\r\n        >\r\n            <CardContent>\r\n                <List>\r\n                    {statusList}\r\n                </List>\r\n            </CardContent>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default Statuses;","import React, { Fragment } from 'react';\r\nimport OnOff from './OnOff';\r\nimport SetTime from './SetTime';\r\nimport Statuses from './Statuses';\r\nimport './Dashboard.css';\r\nimport Users from './Users';\r\n\r\nconst currentCue = {\r\n    clip: 5,\r\n    title: \"Fainting Spells - Hopinka - Exhibition APR422\",\r\n    description: \"A video\"\r\n};\r\n\r\nconst nextCue = {\r\n    clip: 7,\r\n    title: \"2018_58_LawrenceLek_PyramidSchemes_ArtistsPreservationMaster_ProRes422_1080p_25fps_16bitStereo\",\r\n    description: \"LL\",\r\n    time: \"2021-04-28T18:30:00.000Z\"\r\n};\r\n\r\nconst Dashboard = props => {\r\n\r\n    const permissions = Users[props.user] || [];\r\n\r\n    return (\r\n        <Fragment>\r\n            <OnOff\r\n                user={props.user}\r\n                sendState={props.sendState}\r\n            />\r\n            {permissions.includes('admin') ?\r\n            <Fragment>\r\n            <SetTime\r\n                currentTimes={props.currentTimes}\r\n                sendState={props.sendState}\r\n                switch={props.schedulerSwitch}\r\n                schedulerState={props.schedulerState}\r\n            />\r\n            <Statuses\r\n                deviceStatuses={props.deviceStatuses}\r\n            />\r\n            </Fragment>\r\n            :\r\n            <div></div>\r\n            }   \r\n        </Fragment>\r\n    )\r\n    \r\n}\r\n\r\nexport default Dashboard;","import React, { Fragment, useState } from 'react';\r\nimport './App.css';\r\nimport Control from './Components/Control';\r\nimport CssBaseline from '@material-ui/core/CssBaseline'\r\nimport { makeStyles, StylesProvider } from '@material-ui/core/styles';\r\nimport axios from 'axios';\r\n\r\nconst wsClient = new WebSocket(\"ws://172.16.1.72:3001\");\r\n\r\nlet cueSubscriberStatusUpdater = status => {\r\n  console.log(`adding ${status} to statuses.`);\r\n}\r\n\r\nlet cuePublisherStatusUpdater = status => {\r\n  console.log(`adding ${status} to statuses.`);\r\n}\r\n\r\nlet deviceStatusesUpdater = (device, status) => {\r\n  console.log(`Setting status for ${device} to ${status}`);\r\n}\r\n\r\nlet currentCueUpdater = cue => {\r\n  console.log(`Setting current cue to ${cue}`);\r\n}\r\n\r\nlet nextCueUpdater = cue => {\r\n  console.log(`Setting next cue to ${cue}`);\r\n}\r\n\r\nlet updater = () => {\r\n  console.log('updater called.');\r\n}\r\n\r\nwsClient.addEventListener('open', event => {\r\n  console.log(\"connected\");\r\n});\r\n\r\nwsClient.addEventListener('message', message => {\r\n  //cueSubscriberStatusUpdater(message.data)\r\n  //console.log(message);\r\n  let m = JSON.parse(message.data);\r\n  switch (m.topic) {\r\n    case \"cuePublisher\":\r\n      //console.log(m);\r\n      cuePublisherStatusUpdater(m.data);\r\n      break;\r\n    case \"cueSubscriber\":\r\n      cueSubscriberStatusUpdater(m.data);\r\n      break;\r\n    case \"deviceStatus\":\r\n      deviceStatusesUpdater(m.data.name, m.data.status);\r\n      break;\r\n    case \"update\":\r\n      updater(false);\r\n      break;\r\n    default:\r\n      console.log(m);\r\n      break;\r\n  }\r\n})\r\n\r\nconst sendState = message => {\r\n  wsClient.send(JSON.stringify(message));\r\n}\r\n\r\nconst cuePublisherRestart = () => {\r\n  console.log('restart');\r\n  wsClient.send(JSON.stringify({ 'topic': 'cuePublisher', 'message': 'restart' }));\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  drawer: {\r\n    width: 240,\r\n  },\r\n  content: {\r\n    marginLeft: 240,\r\n  },\r\n});\r\n\r\nconst setSchedulerState = state => {\r\n  sendState({ topic: 'showSchedulerState', message: state });\r\n}\r\n\r\nfunction App() {\r\n\r\n  const classes = useStyles();\r\n\r\n  const [cueSubscriberStatus, cueSubscriberStatusUpdate] = useState([]);\r\n  const [cuePublisherStatus, cuePublisherStatusUpdate] = useState([]);\r\n  let [deviceStatuses, deviceStatusesUpdate] = useState([]);\r\n  let [schedulerState, schedulerStateUpdate] = useState(true);\r\n  let [user, userUpdate] = useState('');\r\n  let [currentTimes, currentTimeUpdates] = useState({ \"onTime\": \"00:00\", \"offTime\": \"00:00\" });\r\n  let [currentCue, currentCueUpdate] = useState({\r\n    clip: '',\r\n    title: '',\r\n    description: ''\r\n  });\r\n  let [nextCue, nextCueUpdate] = useState({});\r\n\r\n  const switchSchedulerState = () => {\r\n    schedulerStateUpdate(!schedulerState);\r\n    console.log(schedulerState);\r\n    setSchedulerState(schedulerState);\r\n  }\r\n\r\n  const updateCueSubscriberStatus = status => {\r\n    cueSubscriberStatusUpdate(cueSubscriberStatus => [...cueSubscriberStatus, status]);\r\n  }\r\n\r\n  const updateDeviceStatuses = (device, status) => {\r\n    console.log(`Status update - ${device}, ${status}`);\r\n    let nextDeviceStatuses = [...deviceStatuses];\r\n    let found = false;\r\n    nextDeviceStatuses.forEach(ds => {\r\n      if (ds.name === device) {\r\n        ds.status = status;\r\n        found = true;\r\n      }\r\n    });\r\n    if (!found) {\r\n      nextDeviceStatuses.push({ 'name': device, 'status': status });\r\n    }\r\n    deviceStatusesUpdate(deviceStatuses => [...nextDeviceStatuses]);\r\n  }\r\n\r\n  const clearCueSubscriberStatus = () => {\r\n    cueSubscriberStatusUpdate(cueSubscriberStatus => []);\r\n  }\r\n\r\n  const updateCuePublisherStatus = status => {\r\n    cuePublisherStatusUpdate(cuePublisherStatus => [...cuePublisherStatus, status]);\r\n  }\r\n\r\n  const clearCuePublisherStatus = () => {\r\n    cuePublisherStatusUpdate(cuePublisherStatus => []);\r\n  }\r\n\r\n  const updateCurrentCue = cue => {\r\n    currentCueUpdate(currentCue => cue);\r\n  }\r\n\r\n  const updateNextCue = cue => {\r\n    nextCueUpdate(nextCue => cue);\r\n  }\r\n\r\n  cueSubscriberStatusUpdater = updateCueSubscriberStatus;\r\n  cuePublisherStatusUpdater = updateCuePublisherStatus;\r\n  deviceStatusesUpdater = updateDeviceStatuses;\r\n  currentCueUpdater = updateCurrentCue;\r\n  nextCueUpdater = updateNextCue;\r\n\r\n  const getEverything = (initial) => {\r\n    axios.get('/api/everything') \r\n      .then(res => {\r\n        console.log(res.data);\r\n        currentTimeUpdates(currentTimes => res.data.times);\r\n        schedulerStateUpdate(res.data.schedulerState);\r\n        res.data.deviceStatuses.forEach(deviceStatus => {\r\n          deviceStatusesUpdater(deviceStatus.name, deviceStatus.status);\r\n        });\r\n        userUpdate(res.data.user);\r\n      });\r\n  }\r\n\r\n  useState(() => {\r\n    getEverything(true);\r\n  }, []);\r\n\r\n  let search = window.location.search;\r\n  let params = new URLSearchParams(search);\r\n  updater = getEverything;\r\n\r\n  return (\r\n    <Fragment>\r\n      <CssBaseline />\r\n      <Control\r\n        sendState={sendState}\r\n        currentTimes={currentTimes}\r\n        cueSubscriberStatus={cueSubscriberStatus}\r\n        cuePublisherStatus={cuePublisherStatus}\r\n        cueSubscriberClear={clearCueSubscriberStatus}\r\n        cuePublisherRestart={cuePublisherRestart}\r\n        cuePublisherClear={clearCuePublisherStatus}\r\n        schedulerSwitch={switchSchedulerState}\r\n        schedulerState={schedulerState}\r\n        deviceStatuses={deviceStatuses}\r\n        currentCue={currentCue}\r\n        nextCue={nextCue}\r\n        user={user}\r\n      />  \r\n    </Fragment>\r\n  )\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n        <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}